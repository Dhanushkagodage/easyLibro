// import 'package:easylibro_app/widgets/resource.dart';

// class MyResources {
//   static List<Resource> allResources = [
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 2",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//             totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "Physics 3",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//             totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//             totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//             totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//             totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//              totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//              totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//              totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//              totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//   ];
//   static List<Resource> latest = [
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//              totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//              totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//   ];
//   static List<Resource> popular = [
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics paper I",
//         auther: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             " Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics.,of human understanding. This book is  essential read for anyone fascinated by the mysteries of the cosmos.",
//              totalqty: 100,
//         borrowedqty: 20,
//         location:"ABC"
//     ),
//   ];
// }

// import 'package:easylibro_app/widgets/resource.dart';

// class MyResources {
//   static List<Resource> allResources = [
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 20,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 20,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 20,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 20,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001262",
//         title: "Physics 1",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper I by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 10,
//         location: "ABC",
//         category: "Book"),
//     Resource(
//         isbn: "ISBN-2008001263",
//         title: "Physics 2",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper II by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 20,
//         location: "ABC",
//         category: "Novel"),
//     Resource(
//         isbn: "ISBN-2008001264",
//         title: "Physics 3",
//         author: "Dr. Rosa Fernando",
//         quantity: 100,
//         imgURL: "assets/book image.png",
//         description:
//             "Physics paper III by Dr. Rosa Fernando provides a captivating journey through the latest advancements in theoretical and experimental physics. This book is an essential read for anyone fascinated by the mysteries of the cosmos.",
//         totalqty: 100,
//         borrowedqty: 20,
//         location: "ABC",
//         category: "Magazine"),
//   ];

//   static List<Resource> getBooks() {
//     return allResources
//         .where((resource) => resource.category == "Book")
//         .toList();
//   }

//   static List<Resource> getNovels() {
//     return allResources
//         .where((resource) => resource.category == "Novel")
//         .toList();
//   }

//   static List<Resource> getMagazines() {
//     return allResources
//         .where((resource) => resource.category == "Magazine")
//         .toList();
//   }

//   static List<Resource> getLatestResources(String category) {
//     // Placeholder: Assuming latest resources are determined by some timestamp or release date
//     // This function needs to be implemented with real logic
//     return allResources
//         .where((resource) => resource.category == category)
//         .take(5)
//         .toList();
//   }

//   static List<Resource> getPopularResources(String category) {
//     // Placeholder: Assuming popular resources are determined by borrow quantity or some popularity metric
//     return allResources
//         .where((resource) => resource.category == category)
//         .where((resource) =>
//             resource.borrowedqty > 10) // Example condition for popularity
//         .toList();
//   }

//   static List<Resource> getAllResourcesByCategory(String category) {
//     return allResources
//         .where((resource) => resource.category == category)
//         .toList();
//   }
// }


// import 'dart:convert';
// import 'package:http/http.dart' as http;
// import 'package:easylibro_app/widgets/resource.dart';

// class MyResources {
//  static List<Resource> allResources = [];

//   static Future<void> fetchResources() async {
//     final response = await http.get(Uri.parse('https://10.0.2.2:7174/api/Resource/GetAllResource'));

//     if (response.statusCode == 200) {
//       List<dynamic> data = json.decode(response.body);
//       allResources = data.map((json) => Resource.fromJson(json)).toList();
//     } else {
//       throw Exception('Failed to load resources');
//     }
//   }

//   static List<Resource> getBooks() {
//     return allResources
//         .where((resource) => resource.type == "Book")
//         .toList();
//   }

//   static List<Resource> getNovels() {
//     return allResources
//         .where((resource) => resource.type == "Novel")
//         .toList();
//   }

//   static List<Resource> getMagazines() {
//     return allResources
//         .where((resource) => resource.type == "Magazine")
//         .toList();
//   }

//   static List<Resource> getLatestResources(String category) {
//     // Placeholder: Assuming latest resources are determined by some timestamp or release date
//     // This function needs to be implemented with real logic
//     return allResources
//         .where((resource) => resource.type == category)
//         .take(5)
//         .toList();
//   }

//   static List<Resource> getPopularResources(String category) {
//     // Placeholder: Assuming popular resources are determined by borrow quantity or some popularity metric
//     return allResources
//         .where((resource) => resource.type == category)
//         .where((resource) =>
//             resource.noOfBooks > 10) // Example condition for popularity
//         .toList();
//   }

//   static List<Resource> getAllResourcesByCategory(String category) {
//     return allResources
//         .where((resource) => resource.type == category)
//         .toList();
//   }
// }


import 'dart:convert';
import 'package:easylibro_app/widgets/resource.dart';
import 'dart:io';
import 'package:http/io_client.dart';
import 'package:http/http.dart' as http;

class MyHttpClient {
  static http.Client getHttpClient() {
    final ioc = HttpClient();
    ioc.badCertificateCallback = (X509Certificate cert, String host, int port) => true;
    return IOClient(ioc);
  }
}
class MyResources {
  static List<Resource> allResources = [];

  static Future<void> fetchResources() async {
    final client = MyHttpClient.getHttpClient();
    final response = await client.get(Uri.parse('https://10.0.2.2:7174/api/Resource/GetAllResource'));

    if (response.statusCode == 200) {
      List<dynamic> data = json.decode(response.body);
      allResources = data.map((json) => Resource.fromJson(json)).toList();
    } else {
      throw Exception('Failed to load resources');
    }
  }

  static List<Resource> getBooks() {
    return allResources
        .where((resource) => resource.type == "Book")
        .toList();
  }

  static List<Resource> getNovels() {
    return allResources
        .where((resource) => resource.type == "Novel")
        .toList();
  }

  static List<Resource> getMagazines() {
    return allResources
        .where((resource) => resource.type == "Magazine")
        .toList();
  }

  static List<Resource> getLatestResources(String category) {
    return allResources
        .where((resource) => resource.type == category)
        .take(5)
        .toList();
  }

  static List<Resource> getPopularResources(String category) {
    // Placeholder: Assuming popular resources are determined by borrow quantity or some popularity metric
    return allResources
        .where((resource) => resource.type == category)
        .where((resource) =>
            resource.noOfBooks > 10) // Example condition for popularity
        .toList();
  }

  static List<Resource> getAllResourcesByCategory(String category) {
    return allResources
        .where((resource) => resource.type == category)
        .toList();
  }
}
